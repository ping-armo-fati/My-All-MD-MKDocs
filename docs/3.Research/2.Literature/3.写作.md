# 石块堆叠

## 预备工具

- Author guidelines
  - https://www.sciencedirect.com/journal/automation-in-construction/publish/guide-for-authors
  - Template
    - https://ctan.org/tex-archive/macros/latex/contrib/elsarticle
    - https://support.stmdocs.in/wiki/index.php?title=Elsarticle.cls
    - https://www.elsevier.com/zh-cn/researcher/author/policies-and-guidelines/latex-instructions
    - https://template-selector.ieee.org/secure/templateSelector/publicationType

## 结构

### Intro

建造机器人在标准建材（砖块、木头、混凝土）和建造工艺中呈现了高度的数字化和自动化水平。相比于上述标准化建材，未经加工处理的建材（原始木材、石块、砂砾等）具有更低内含能，缩短建造过程中加工成本，且更符合回收等相关环保需求。自然石块作为未经加工建材的代表，具有良好力学特性，用于建造稳定建筑结构具有悠久的历史。不同于标准建材的设计建造过程，石块不规则的形状对自动化建造提出了挑战，石块建筑建造过程高度依赖石匠经验，是一个启发式的过程具有不确定性，随着标准化的建材的发展和进步简化建造过程使得石块等相关未加工建材逐渐淡出主流。然而在低碳建造和远距离建造（乃至火星建造）等需求下，就地取材可以缩减运输成本，对未经加工建材进行利用进行建筑具有广阔的前景和较好的实用性。

基于不规则石块的干石墙堆叠，已有多个团队取得了进展。苏黎世G&H团队在2017年，提出了一个机器人视觉堆叠系统，包括：基于视觉的目标定位、识别、抓取、放运动规划以及石块位姿规划算法，并在实验室内实现了4层干石塔堆叠。并于2022和2023使用全地形挖掘机DEAP于室外进行了相关的石块的现场堆叠研究，解决了抓取策略、放置规划、在线石块规划等相关问题。在2023年完成了于室外的现场就地取材形式的石墙堆叠，实现了16.4m的双层石墙的搭建，利用Mask-RCNN等相关技术进行石块现场语义分割、建库及石墙规划和运动学执行过程。其框架系统地提出了一个就地取材建造的方案。2018年，Yf，L团队围绕二维石墙的规划和结构评价等相关问题展开了相关的研究，分别基于DQN算法进行了二维的石墙的几何填充研究和结构稳定性动力学校核，在2020年使用机器人视觉系统实现了实验室内的单层石墙的规划和堆叠。

干石墙的堆叠任务，最核心的问题是如何规划不规则石块位姿，其位姿“好坏”决定了结构的稳定性。苏黎世wermerlinger等人聚焦于下一块石块的位姿，采用梯度下降算法求解当前最优位姿以堆叠干石塔，在石墙的位姿规划中采用ICP迭代最近点优化对齐目标边界线以筛候选石块。Yf L等人对二维石墙的空间位置信息，通过DQN算法优化二维形状填充，实现石块的平面规划，并基于振动法分析结构稳定性，基于点位移进行二维结构优化。以上研究将石块堆叠的力学分析和相关指标用于设计、规划干石墙，求解石块位姿并进行稳定性优化。然而，不同于标准建筑元素的设计-建造过程，石块这样不规则几何体的建造过程中势必存在结果与设计预期的偏离。设计与建造过程相互交织，石块的形状对规划和决策的影响是动态的，简单的体现在两点：石块的序列和位姿的决策是多因素且非凸的；石块堆叠经验和评估标准是定性的、较难数字化。从可行的石块集合中在一定的条件限制下实现预期结构的堆叠规划，其结构并符合力学和经验上评价“好”的标准，一方面需要一定的数字化、自动化技术用于处理石块的几何、物理相关参数用于规划计算，另一方面需要智能化的方法将经验、指南、技巧整合至堆叠策略中，实现建造出可行、稳定、“良好”性能的干石墙。

石块位姿求解问题上，类比经验丰富的石匠在建造过程中的石块选取，是一个启发式的过程，存在直觉等非理性判断大过几何、力学等相关分析等策略特征。这需要机器人的规划策略更具智能和灵活性，Lambrt等人在12年发表了相关工作，阐述了智能算法在石块启发式选取等过程的应用潜力，并介绍了一个基于模拟退火算法的二维石块规划流程。模拟退火，是一种启发式优化算法，通过给予智能体在搜索空间起始更多“活性”以使得决策在保证一定收敛速度下同时扩大探索空间使得决策结果越过“局部最优”。对于非凸、大探索空间的问题，强化学习具有更好的表现，基于力学等相关图形学的分析设计石块堆叠环境并进一步扩大搜索空间。对于石块位姿的优化方面，除了结构稳定性方面，其位姿对后续石块的潜在影响是影响整体结构的一个重要方面，尚未在此前的研究中提及，然而从实验结果中可以看出，堆叠失败或是下一块无解情况多是因为此前序列的位姿选取，将其纳入强化学习训练中的一个奖惩机制有利于提高规划的全局视野。对于干石墙堆叠，结构稳定及石块位姿及相关力学属性是保证其结构稳定的，也是石墙的基础。此外，出于寿命、美观等其他实用功能考虑，石墙的“好坏”评价同时包含一些高度依赖经验的指标和准则，通过更丰富的指标指导干石墙的整体评价和优化过程对于干石墙的实用性有重要意义。

在本研究中，我们目标建一个具有结构稳定和符合经验上良好特征的干石墙，并于强化学习中训练策略，利用机器人视觉系统进行实例原型实现。为了具体实现这个目标，我们设计了一个工作框架，包括基于视觉的识别、定位、抓取和放置，石块筛分、选择、位姿规划及优化、石墙结构评价等过程。我们基于石块在整体的角色功能定位进行筛分，重点放在石块的位姿规划及优化上，逆向规划石块的位姿序列降低石块位姿选取对整体结构稳定的负面影响，提高规划策略的结构稳定性。石墙结构评价模型中，基于石匠等经验将石墙从稳定的评价推到更合理、更实用。

### Related Work

- 机器人石块堆叠

  - 视觉系统

    > 石块规划的物理实现主要依靠机器人视觉系统，通常由机器人、末端执行器、视觉传感器、力矩传感器、上位机系统等部分构成，可以实现目标的识别定位、运动规划、避障、抓取&放置等任务。通过部署训练的规划策略，实现石块的放置位姿规划，并基于放置位姿进行目标识别、定位以完成目标的抓取，并基于运动规划实现，并结合避障算法完成石块的目标位姿放置，完成单次码垛作业。由于物理与仿真的偏差，需要对放置后的石块及现有石墙进行扫描以确定实际位姿，其中需要对目标的语音分割及位姿估计等相关处理以计算偏差并进行下一次规划和码垛作业。

  - 任务实现

    - 识别、定位、手眼标定

    > 对于抓取等相关任务，基于

    - 运动规划、避障
    - 抓取检测、放置规划

- 石块数字化技术

  - 语义分割
  - 三维场景重建
  - 位姿估计

- 二维、三维几何图形学规划算法

  - 石墙规划
  - 包装-

### Experiment Design

- 

