# 立体匹配计算
===============

使用RGBD相机进行实验的时候，存在三个问题：\
（1）图像畸变？存在畸变的话，要进行标定。\
（2）深度图像的深度值是否正确？要进行深度值的校准。\
（3）怎么把RGB图像中的某一点和深度图像的value对应起来？要进行图像配准（对齐）。

![](../../../assets/012_(15条消息)_RGBD相机的介绍和使用_骑驴去学习的博客-CSDN博客_rgbd相机_006.png) 

![](../../../assets/012_(15条消息)_RGBD相机的介绍和使用_骑驴去学习的博客-CSDN博客_rgbd相机_007.png) 

内外参的标定
------------

![](../../../assets/012_(15条消息)_RGBD相机的介绍和使用_骑驴去学习的博客-CSDN博客_rgbd相机_008.png) 

然后物理成像平面和相机坐标平面并不是这样平行的关系，存在一个平移和缩放的关系。

![](../../../assets/012_(15条消息)_RGBD相机的介绍和使用_骑驴去学习的博客-CSDN博客_rgbd相机_009.png) 

整理一下得到下面的公式：

![](../../../assets/012_(15条消息)_RGBD相机的介绍和使用_骑驴去学习的博客-CSDN博客_rgbd相机_010.png) 

这四个参数fx、fy、Cx、Cy就叫做相机的内参。\
fx，fy为焦距，一般情况下，二者相等。Cx、Cy为主点坐标(相对于成像平面)，也就是坐标原点平移的距离。\
相机的外参：也就是相机坐标系到世界坐标系的一个转换，就是一个旋转矩阵和平移矩阵\
当然，相机还会存在畸变的问题，也就是畸变参数。\
**径向畸变：**

![](../../../assets/012_(15条消息)_RGBD相机的介绍和使用_骑驴去学习的博客-CSDN博客_rgbd相机_011.png) 

**切向畸变：**

![](../../../assets/012_(15条消息)_RGBD相机的介绍和使用_骑驴去学习的博客-CSDN博客_rgbd相机_012.png) 

**总结：**
----------

相机的外参矩阵：从世界坐标系是怎样经过旋转和平移，然后落到另一个摄像机坐标上的\
相机的内参矩阵：从摄像头坐标系是怎样经过摄像头，通过针孔成像、电子转化等落到照片（像素）坐标系的\
相机的畸变矩阵：告诉你为什么上面那个实际像素点并没有落在理论计算该落在的位置上，还产生了一定的偏移和变形

棋盘格标定

深度校准
--------

图像配准
--------

把深度图叠加到RGB图像中

![](../../../assets/012_(15条消息)_RGBD相机的介绍和使用_骑驴去学习的博客-CSDN博客_rgbd相机_013.png) 

